<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Your Cart</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f8f8f8;
      margin: 0;
      padding: 40px;
    }

    h1 {
      text-align: center;
      font-size: 32px;
      margin-bottom: 40px;
    }

    .cart-table {
      width: 100%;
      max-width: 1000px;
      margin: 0 auto;
      border-collapse: collapse;
      background: #fff;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }

    .cart-table thead th {
      text-align: left;
      padding: 16px 20px;
      font-size: 16px;
      background: #fff;
      border-bottom: 1px solid #ddd;
    }

    .cart-item {
      display: flex;
      align-items: center;
      padding: 20px;
      border-bottom: 1px solid #eee;
    }

    .cart-item img {
      width: 100px;
      height: auto;
      margin-right: 20px;
      border: 1px solid #ddd;
    }

    .item-info {
      flex: 1;
    }

    .item-info h3 {
      margin: 0;
      font-size: 16px;
    }

    .item-info small {
      color: #666;
    }

    .quantity-control {
      width: 60px;
      text-align: center;
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 8px;
      margin-right: 16px;
    }

    .remove-link {
      color: #888;
      font-size: 14px;
      text-decoration: underline;
      cursor: pointer;
    }

    .total-price {
      text-align: right;
      padding: 20px;
      font-weight: bold;
      font-size: 18px;
    }

    .cart-buttons {
      display: flex;
      justify-content: space-between;
      max-width: 1000px;
      margin: 30px auto 0;
    }

    .cart-buttons button {
      padding: 12px 20px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .back-btn {
      background: #ccc;
    }

    .checkout-btn {
      background: #000;
      color: #fff;
    }

    .notification {
      margin-top: 20px;
      padding: 15px;
      background-color: #4CAF50;
      color: white;
      border-radius: 4px;
      display: none;
    }
  </style>
</head>
<body>

  <h1>Your Cart</h1>

  <table class="cart-table">
    <thead>
      <tr>
        <th>Product</th>
        <th>Quantity</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody id="cartBody">
      <!-- Cart items will be added here dynamically -->
    </tbody>
  </table>

  <div class="total-price" id="grandTotal">Total: RM0.00</div>

  <div class="cart-buttons">
    <button class="back-btn" onclick="window.location.href='https://sites.google.com/view/h4rshstreetwear/home'">← Go Back</button>
    <button class="checkout-btn" onclick="checkout()">Proceed to Payment →</button>
  </div>

  <!-- Notification -->
  <div id="notification" class="notification"></div>

  <script>
    // Simulated Cart Data
    const cartItems = [
      { name: "HARSH LOVE TEE", price: 75.00, size: "M", quantity: 2, image: "img/boxyshirt.png" },
      { name: "ASTRAL PANTS", price: 125.00, size: "M", quantity: 1, image: "img/astralpants.png" },
      { name: "HARSH NECKLACE", price: 57.00, size: "20", quantity: 3, image: "img/necklace.png" }
    ];

    const cartBody = document.getElementById("cartBody");
    const grandTotal = document.getElementById("grandTotal");
    const notification = document.getElementById("notification");

    // Function to display cart items and calculate total price
    function displayCart() {
      let total = 0;
      cartItems.forEach(item => {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>
            <div class="cart-item">
              <img src="${item.image}" alt="${item.name}" />
              <div class="item-info">
                <h3>${item.name}</h3>
                <small>RM ${item.price} MYR</small><br>
                <small>Size: ${item.size}</small>
              </div>
            </div>
          </td>
          <td style="text-align:center;">
            <input class="quantity-control" type="number" value="${item.quantity}" min="1" readonly />
            <div class="remove-link" onclick="removeItem('${item.name}')">Remove</div>
          </td>
          <td style="text-align:right;">RM ${item.price * item.quantity}</td>
        `;
        cartBody.appendChild(row);
        total += item.price * item.quantity;
      });
      grandTotal.textContent = "Total: RM " + total.toFixed(2);
    }

    // Function to remove an item from the cart (simulated)
    function removeItem(itemName) {
      const index = cartItems.findIndex(item => item.name === itemName);
      if (index > -1) {
        cartItems.splice(index, 1);  // Remove item from the array
        refreshCart();  // Re-render the cart
      }
    }

    // Function to refresh the cart after removing an item
    function refreshCart() {
      cartBody.innerHTML = '';
      displayCart();
    }

    // Checkout function
    function checkout() {
      const totalAmount = grandTotal.textContent.replace("Total: RM", "").trim();
      const confirmationMessage = `
        You're about to purchase the following:

        Total Amount: RM ${totalAmount}

        Please confirm to proceed to payment.
      `;

      const confirmed = confirm(confirmationMessage);

      if (confirmed) {
        // Simulate a successful transaction
        alert("Payment successful! Thank you for your purchase.");
        // Clear the cart and redirect to a "Thank You" page
        cartItems.length = 0;  // Clear the cart
        refreshCart();
        window.location.href = "https://sites.google.com/view/h4rshstreetwear/payment"; // Correct redirect link
      } else {
        alert("Payment cancelled. You can continue shopping.");
      }
    }

    // Initialize the cart
    displayCart();
  </script>

</body>
</html>
